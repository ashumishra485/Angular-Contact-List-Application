(function() {
    'use strict';

    var moduleName = '<%= moduleName %>',

        angularDependencies = [
            '<%= ngDependencies %>'
        ];

    define([
        'require',
        'angular',
        '<%= dependencies %>'
    ], function(require, angular) {

        var module = angular.module(moduleName, angularDependencies);

        module.config(['$stateProvider',
            function($stateProvider) {

                $stateProvider.state('<%= moduleName %>', {
                    controller: '<%= controllerName %>',
                    url: '<%= url %>',
                    templateUrl: require.toUrl('./_<%= folderName %>.html')
                });
            }
        ]);

        module.controller('<%= controllerName %>', ['$scope', '$state',
            function($scope, $state) {
                console.log('<%= controllerName %>');
            }
        ]);

        return module;
    });
})();

